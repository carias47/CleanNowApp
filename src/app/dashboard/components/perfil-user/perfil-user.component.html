<div *ngIf="porcentaje > 0" class="progress mb-3">
  <div class="progress-bar" role="progressbar" [style.width]="porcentaje + '%'">
    {{ porcentaje.toFixed(2) }}%
  </div>
</div>
<div class="d-flex mt-3 justify-content-center align-items-center">
  <div *ngIf="loading" class="spinner-border" role="status">
    <span class="sr-only"></span>
  </div>
</div>
<div *ngIf="!loading">
  <form [formGroup]="formulario" class="row mt-3" (ngSubmit)="agregar()">
    <div class="form-group col-md-6 mb-3">
      <label for="name">Name:</label>
      <input type="text" id="name" formControlName="name" />
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="email">Email:</label>
      <input type="email" id="email" formControlName="email" />
      <small *ngIf="isNotValidField('email')" class="form-text text-danger"
        >{{ getFieldError("email") }}
      </small>
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="surname">Apellido:</label>
      <input type="text" id="lastName" formControlName="lastName" />
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Número móvil:</label>
      <input type="number" id="mobileNumber" formControlName="mobileNumber" />
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Teléfono:</label>
      <input type="number" id="phoneNumber" formControlName="phoneNumber" />
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Género:</label>
      <select class="form-select" formControlName="sexo" name="sexo">
        <option value="" selected [disabled]="sexoOptions">-Seleccione-</option>
        <option *ngFor="let option of sexoOptions" [value]="option.id">
          {{ option.name }}
        </option>
      </select>
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Tipo Identificación:</label>
      <select id="idenType" class="form-select" formControlName="idenType">
        <option value="" selected [disabled]="sexoOptions">-Seleccione-</option>
        <option *ngFor="let option of idenTypeOptions" [value]="option.id">
          {{ option.name }}
        </option>
      </select>
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Número Identificación:</label>
      <input
        type="number"
        id="numberidentification"
        formControlName="numberidentification"
      />
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Latitud:</label>
      <input type="text" id="lat" formControlName="lat" />
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Longitud:</label>
      <input type="text" id="long" formControlName="long" />
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Fecha nacimiento:</label>
      <input
        placeholder="dd/mm/yyyy"
        type="date"
        id="birthday"
        formControlName="birthday"
      />
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Departamento:</label>
      <select
        class="form-select"
        formControlName="state"
        (change)="obtenerCitiesServiceCombo(formulario.controls['state'].value)"
      >
        <option value="" selected [disabled]="StatesCombo">-Seleccione-</option>
        <option *ngFor="let option of StatesCombo" [value]="option.id">
          {{ option.name }}
        </option>
      </select>
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="city">Ciudad:</label>
      <select class="form-select" formControlName="city" name="city">
        <option value="" selected [disabled]="CitiesCombo">-Seleccione-</option>
        <option *ngFor="let option of CitiesCombo" [value]="option.id">
          {{ option.name }}
        </option>
      </select>
    </div>

    <div class="form-group col-md-6 mb-3">
      <label for="mobilephone">Dirección:</label>
      <input type="text" id="address" formControlName="address" />
    </div>
    <div class="text-center">
      <div class="btn-aceptar">
        <button type="submit" class="btn btn-primary">Aceptar</button>
      </div>
      <div class="btn-salir">
        <button class="btn btn-warning" routerLink="/dashboard">Volver</button>
      </div>
    </div>
  </form>
</div>
